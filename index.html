<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Biology Professor Survey — Student Preparedness in College Biology</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&family=DM+Sans:wght@300;400;500;600&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --navy: #0d1f3c;
    --navy-mid: #152c52;
    --navy-light: #1e3d6e;
    --gold: #c9a84c;
    --gold-light: #e8c97a;
    --cream: #f8f5ef;
    --cream-dark: #ede8df;
    --sage: #4a7c6f;
    --sage-light: #6aaa99;
    --red-accent: #a63d2f;
    --purple-ai: #6b3fa0;
    --purple-light: #f0eafa;
    --text-dark: #1a1a2e;
    --text-mid: #3d4660;
    --text-light: #6b7280;
    --white: #ffffff;
    --border: rgba(13,31,60,0.12);
    --shadow-sm: 0 2px 8px rgba(13,31,60,0.08);
    --shadow-md: 0 8px 32px rgba(13,31,60,0.12);
    --shadow-lg: 0 24px 64px rgba(13,31,60,0.18);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--cream);
    color: var(--text-dark);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* ─── VIEWS ─────────────────────────────────── */
  .view { display: none; min-height: 100vh; }
  .view.active { display: block; }

  /* ─── HOMEPAGE ─────────────────────────────── */
  #home {
    background: var(--cream);
    position: relative;
  }

  .home-hero {
    background: var(--navy);
    position: relative;
    overflow: hidden;
    padding: 80px 48px 100px;
    text-align: center;
  }

  .home-hero::before {
    content: '';
    position: absolute;
    inset: 0;
    background: 
      radial-gradient(ellipse 80% 60% at 20% 120%, rgba(201,168,76,0.18) 0%, transparent 60%),
      radial-gradient(ellipse 60% 80% at 80% -20%, rgba(106,170,153,0.12) 0%, transparent 60%);
  }

  .dna-pattern {
    position: absolute;
    top: 0; right: 0;
    width: 320px; height: 100%;
    opacity: 0.04;
    background-image: repeating-linear-gradient(
      45deg,
      transparent,
      transparent 10px,
      rgba(255,255,255,0.5) 10px,
      rgba(255,255,255,0.5) 11px
    );
  }

  .hero-eyebrow {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 24px;
    position: relative;
  }

  .hero-eyebrow::before, .hero-eyebrow::after {
    content: '——';
    margin: 0 12px;
    opacity: 0.5;
  }

  .hero-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: clamp(32px, 5vw, 60px);
    font-weight: 300;
    color: var(--white);
    line-height: 1.15;
    max-width: 820px;
    margin: 0 auto 20px;
    position: relative;
  }

  .hero-title em {
    font-style: italic;
    color: var(--gold-light);
  }

  .hero-subtitle {
    font-family: 'Cormorant Garamond', serif;
    font-size: 20px;
    font-weight: 300;
    color: rgba(255,255,255,0.65);
    font-style: italic;
    margin-bottom: 48px;
    position: relative;
  }

  .hero-cta {
    display: inline-flex;
    align-items: center;
    gap: 12px;
    background: var(--gold);
    color: var(--navy);
    font-family: 'DM Sans', sans-serif;
    font-size: 15px;
    font-weight: 600;
    letter-spacing: 0.04em;
    padding: 16px 40px;
    border: none;
    cursor: pointer;
    position: relative;
    transition: all 0.25s ease;
    clip-path: polygon(8px 0%, 100% 0%, calc(100% - 8px) 100%, 0% 100%);
  }

  .hero-cta:hover {
    background: var(--gold-light);
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(201,168,76,0.4);
  }

  .hero-cta svg { width: 18px; height: 18px; }

  .home-body {
    max-width: 900px;
    margin: 0 auto;
    padding: 64px 48px;
  }

  .info-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 32px;
    margin-bottom: 56px;
  }

  .info-card {
    background: var(--white);
    border: 1px solid var(--border);
    padding: 32px;
    position: relative;
    box-shadow: var(--shadow-sm);
  }

  .info-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0;
    width: 3px; height: 100%;
    background: var(--gold);
  }

  .info-card h3 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 22px;
    font-weight: 500;
    color: var(--navy);
    margin-bottom: 12px;
  }

  .info-card p {
    font-size: 14px;
    line-height: 1.7;
    color: var(--text-mid);
  }

  .about-section {
    background: var(--navy);
    color: var(--white);
    padding: 48px;
    margin-bottom: 56px;
    position: relative;
    overflow: hidden;
  }

  .about-section::after {
    content: '"';
    position: absolute;
    right: 32px;
    bottom: -20px;
    font-family: 'Cormorant Garamond', serif;
    font-size: 200px;
    color: rgba(255,255,255,0.04);
    line-height: 1;
  }

  .about-section h2 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 28px;
    font-weight: 400;
    color: var(--gold-light);
    margin-bottom: 20px;
  }

  .about-section p {
    font-size: 15px;
    line-height: 1.8;
    color: rgba(255,255,255,0.8);
    max-width: 700px;
    margin-bottom: 16px;
  }

  .about-section p:last-child { margin-bottom: 0; }

  .contact-chip {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: rgba(201,168,76,0.15);
    border: 1px solid rgba(201,168,76,0.3);
    color: var(--gold-light);
    font-family: 'DM Mono', monospace;
    font-size: 13px;
    padding: 8px 16px;
    margin-top: 20px;
  }

  .sections-list {
    margin-bottom: 56px;
  }

  .sections-list h2 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 30px;
    font-weight: 400;
    color: var(--navy);
    margin-bottom: 24px;
    padding-bottom: 12px;
    border-bottom: 1px solid var(--border);
  }

  .section-item {
    display: flex;
    align-items: flex-start;
    gap: 20px;
    padding: 20px 0;
    border-bottom: 1px solid var(--cream-dark);
  }

  .section-number {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: var(--gold);
    background: var(--navy);
    width: 36px; height: 36px;
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
    font-weight: 500;
  }

  .section-item h4 {
    font-size: 15px;
    font-weight: 600;
    color: var(--navy);
    margin-bottom: 4px;
  }

  .section-item p {
    font-size: 13px;
    color: var(--text-light);
    line-height: 1.5;
  }

  .ai-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-size: 11px;
    font-family: 'DM Mono', monospace;
    color: var(--purple-ai);
    background: var(--purple-light);
    border: 1px solid rgba(107,63,160,0.2);
    padding: 2px 8px;
    margin-left: 8px;
    vertical-align: middle;
  }

  .start-survey-block {
    text-align: center;
    padding: 48px;
    background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 100%);
    margin-bottom: 0;
  }

  .start-survey-block h2 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 34px;
    font-weight: 300;
    color: var(--white);
    margin-bottom: 12px;
  }

  .start-survey-block p {
    font-size: 14px;
    color: rgba(255,255,255,0.6);
    margin-bottom: 32px;
  }

  /* Admin login button */
  .admin-login-btn {
    position: fixed;
    bottom: 28px;
    right: 28px;
    display: flex;
    align-items: center;
    gap: 8px;
    background: var(--white);
    border: 1px solid var(--border);
    color: var(--text-mid);
    font-family: 'DM Sans', sans-serif;
    font-size: 12px;
    font-weight: 500;
    padding: 10px 18px;
    cursor: pointer;
    box-shadow: var(--shadow-md);
    transition: all 0.2s;
    z-index: 100;
  }

  .admin-login-btn:hover {
    background: var(--navy);
    color: var(--gold);
    border-color: var(--navy);
  }

  .admin-login-btn svg { width: 14px; height: 14px; }

  /* ─── MODAL ─────────────────────────────────── */
  .modal-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(13,31,60,0.7);
    backdrop-filter: blur(4px);
    z-index: 1000;
    align-items: center;
    justify-content: center;
  }

  .modal-overlay.open { display: flex; }

  .modal {
    background: var(--white);
    width: 400px;
    max-width: 95vw;
    padding: 40px;
    box-shadow: var(--shadow-lg);
    position: relative;
  }

  .modal-close {
    position: absolute;
    top: 16px; right: 16px;
    background: none; border: none;
    cursor: pointer; color: var(--text-light);
    font-size: 20px; line-height: 1;
    transition: color 0.2s;
  }

  .modal-close:hover { color: var(--red-accent); }

  .modal h3 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 26px;
    font-weight: 400;
    color: var(--navy);
    margin-bottom: 8px;
  }

  .modal p { font-size: 13px; color: var(--text-light); margin-bottom: 24px; }

  .form-group { margin-bottom: 20px; }

  .form-group label {
    display: block;
    font-size: 12px;
    font-weight: 600;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    color: var(--text-mid);
    margin-bottom: 8px;
  }

  .form-group input, .form-group select, .form-group textarea {
    width: 100%;
    border: 1px solid var(--border);
    padding: 12px 14px;
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    color: var(--text-dark);
    background: var(--cream);
    outline: none;
    transition: border-color 0.2s;
  }

  .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
    border-color: var(--navy);
    background: var(--white);
  }

  .error-msg {
    color: var(--red-accent);
    font-size: 13px;
    margin-top: 8px;
    display: none;
  }

  .btn-primary {
    width: 100%;
    background: var(--navy);
    color: var(--white);
    border: none;
    padding: 14px;
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    font-weight: 600;
    letter-spacing: 0.04em;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-primary:hover { background: var(--navy-light); }

  .btn-secondary {
    background: var(--white);
    color: var(--navy);
    border: 1px solid var(--navy);
    padding: 12px 28px;
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-secondary:hover { background: var(--navy); color: var(--white); }

  /* ─── SURVEY VIEW ───────────────────────────── */
  #survey {
    background: var(--cream);
  }

  .survey-header {
    background: var(--navy);
    padding: 28px 48px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: sticky;
    top: 0;
    z-index: 50;
    box-shadow: var(--shadow-md);
  }

  .survey-header-left h2 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 22px;
    font-weight: 400;
    color: var(--white);
  }

  .survey-header-left p {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: var(--gold);
    letter-spacing: 0.12em;
    text-transform: uppercase;
    margin-top: 2px;
  }

  .progress-wrap {
    text-align: right;
  }

  .progress-label {
    font-size: 12px;
    color: rgba(255,255,255,0.5);
    margin-bottom: 6px;
  }

  .progress-bar {
    width: 220px;
    height: 4px;
    background: rgba(255,255,255,0.15);
    position: relative;
  }

  .progress-fill {
    height: 100%;
    background: var(--gold);
    transition: width 0.4s ease;
  }

  .survey-body {
    max-width: 820px;
    margin: 0 auto;
    padding: 48px 32px 80px;
  }

  .section-header {
    border-left: 4px solid var(--gold);
    padding-left: 20px;
    margin-bottom: 36px;
    margin-top: 8px;
  }

  .section-num-badge {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: var(--gold);
    letter-spacing: 0.12em;
    text-transform: uppercase;
    margin-bottom: 6px;
  }

  .section-header h2 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 30px;
    font-weight: 400;
    color: var(--navy);
  }

  .section-note {
    font-size: 13px;
    font-style: italic;
    color: var(--text-light);
    margin-top: 8px;
    line-height: 1.6;
  }

  .question-block {
    background: var(--white);
    border: 1px solid var(--border);
    padding: 28px 32px;
    margin-bottom: 20px;
    box-shadow: var(--shadow-sm);
    transition: border-color 0.2s;
  }

  .question-block:focus-within {
    border-color: rgba(13,31,60,0.3);
  }

  .question-block.ai-question {
    border-left: 4px solid var(--purple-ai);
    background: var(--purple-light);
  }

  .question-block.ai-question .q-label {
    color: var(--purple-ai);
  }

  .ai-tag {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    font-size: 10px;
    font-family: 'DM Mono', monospace;
    color: var(--purple-ai);
    background: rgba(107,63,160,0.1);
    border: 1px solid rgba(107,63,160,0.25);
    padding: 3px 8px;
    margin-bottom: 8px;
  }

  .q-text {
    font-size: 15px;
    font-weight: 500;
    color: var(--text-dark);
    line-height: 1.55;
    margin-bottom: 20px;
  }

  .q-num {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: var(--gold);
    font-weight: 500;
    margin-bottom: 6px;
  }

  /* Radio/checkbox options */
  .options-list { display: flex; flex-direction: column; gap: 10px; }

  .option-label {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 12px 16px;
    border: 1px solid var(--border);
    background: var(--cream);
    cursor: pointer;
    transition: all 0.15s;
    font-size: 14px;
    line-height: 1.5;
  }

  .option-label:hover {
    border-color: var(--navy);
    background: rgba(13,31,60,0.03);
  }

  .option-label input[type="radio"],
  .option-label input[type="checkbox"] {
    margin-top: 2px;
    flex-shrink: 0;
    accent-color: var(--navy);
    width: 16px;
    height: 16px;
  }

  .option-label.selected {
    background: rgba(13,31,60,0.06);
    border-color: var(--navy);
  }

  /* Likert scale */
  .likert-wrap {
    overflow-x: auto;
  }

  .likert-table {
    width: 100%;
    border-collapse: collapse;
    min-width: 420px;
  }

  .likert-table th {
    font-size: 11px;
    font-weight: 600;
    color: var(--text-light);
    text-align: center;
    padding: 8px 6px;
    border-bottom: 2px solid var(--border);
    line-height: 1.3;
  }

  .likert-table td {
    text-align: center;
    padding: 10px 6px;
  }

  .likert-table td input[type="radio"] {
    width: 18px;
    height: 18px;
    accent-color: var(--navy);
    cursor: pointer;
  }

  /* Open-ended textarea */
  .survey-textarea {
    width: 100%;
    border: 1px solid var(--border);
    padding: 14px;
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    color: var(--text-dark);
    background: var(--cream);
    resize: vertical;
    min-height: 100px;
    outline: none;
    transition: border-color 0.2s;
    line-height: 1.6;
  }

  .survey-textarea:focus {
    border-color: var(--navy);
    background: var(--white);
  }

  /* Sub-item questions */
  .sub-question {
    padding: 16px 0;
    border-bottom: 1px solid var(--cream-dark);
  }

  .sub-question:last-child { border-bottom: none; }

  .sub-q-label {
    font-size: 14px;
    color: var(--text-mid);
    margin-bottom: 12px;
    display: flex;
    gap: 8px;
  }

  .sub-q-label strong {
    color: var(--navy);
    font-weight: 600;
    flex-shrink: 0;
  }

  .survey-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 32px 0 0;
    border-top: 1px solid var(--border);
    margin-top: 40px;
  }

  .nav-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 14px 32px;
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
  }

  .nav-btn-prev {
    background: var(--white);
    color: var(--navy);
    border: 1px solid var(--border);
  }

  .nav-btn-prev:hover { border-color: var(--navy); }

  .nav-btn-next {
    background: var(--navy);
    color: var(--white);
    clip-path: polygon(8px 0%, 100% 0%, calc(100% - 8px) 100%, 0% 100%);
  }

  .nav-btn-next:hover { background: var(--navy-light); }

  .nav-btn-submit {
    background: var(--sage);
    color: var(--white);
    clip-path: polygon(8px 0%, 100% 0%, calc(100% - 8px) 100%, 0% 100%);
  }

  .nav-btn-submit:hover { background: var(--sage-light); }

  .section-pill {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: var(--text-light);
  }

  /* Success screen */
  .success-screen {
    text-align: center;
    padding: 80px 48px;
    max-width: 600px;
    margin: 0 auto;
  }

  .success-icon {
    width: 72px; height: 72px;
    background: var(--sage);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 32px;
  }

  .success-icon svg { width: 36px; height: 36px; color: white; }

  .success-screen h2 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 40px;
    font-weight: 300;
    color: var(--navy);
    margin-bottom: 16px;
  }

  .success-screen p {
    font-size: 15px;
    color: var(--text-mid);
    line-height: 1.7;
    margin-bottom: 16px;
  }

  /* ─── ADMIN VIEW ────────────────────────────── */
  #admin {
    display: none;
    background: #f0f2f5;
    min-height: 100vh;
  }

  #admin.active { display: block; }

  .admin-sidebar {
    position: fixed;
    top: 0; left: 0;
    width: 260px;
    height: 100vh;
    background: var(--navy);
    display: flex;
    flex-direction: column;
    z-index: 200;
    overflow-y: auto;
  }

  .admin-logo {
    padding: 28px 24px;
    border-bottom: 1px solid rgba(255,255,255,0.08);
  }

  .admin-logo h1 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 20px;
    font-weight: 400;
    color: var(--white);
    line-height: 1.3;
  }

  .admin-logo p {
    font-family: 'DM Mono', monospace;
    font-size: 10px;
    color: var(--gold);
    letter-spacing: 0.12em;
    text-transform: uppercase;
    margin-top: 4px;
  }

  .admin-nav { padding: 16px 0; flex: 1; }

  .admin-nav-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 24px;
    color: rgba(255,255,255,0.55);
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s;
    border-left: 3px solid transparent;
  }

  .admin-nav-item:hover {
    color: var(--white);
    background: rgba(255,255,255,0.05);
  }

  .admin-nav-item.active {
    color: var(--white);
    background: rgba(201,168,76,0.1);
    border-left-color: var(--gold);
  }

  .admin-nav-item svg { width: 16px; height: 16px; }

  .admin-logout {
    padding: 20px 24px;
    border-top: 1px solid rgba(255,255,255,0.08);
  }

  .admin-logout button {
    display: flex;
    align-items: center;
    gap: 8px;
    background: none;
    border: 1px solid rgba(255,255,255,0.15);
    color: rgba(255,255,255,0.5);
    padding: 8px 16px;
    font-family: 'DM Sans', sans-serif;
    font-size: 12px;
    cursor: pointer;
    transition: all 0.15s;
    width: 100%;
    justify-content: center;
  }

  .admin-logout button:hover {
    border-color: rgba(255,255,255,0.4);
    color: var(--white);
  }

  .admin-main {
    margin-left: 260px;
    padding: 40px;
    min-height: 100vh;
  }

  .admin-tab { display: none; }
  .admin-tab.active { display: block; }

  .admin-page-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: 36px;
    font-weight: 300;
    color: var(--navy);
    margin-bottom: 8px;
  }

  .admin-page-sub {
    font-size: 13px;
    color: var(--text-light);
    margin-bottom: 36px;
  }

  /* Stats cards */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    margin-bottom: 40px;
  }

  .stat-card {
    background: var(--white);
    border: 1px solid var(--border);
    padding: 24px;
    box-shadow: var(--shadow-sm);
  }

  .stat-card .stat-val {
    font-family: 'Cormorant Garamond', serif;
    font-size: 48px;
    font-weight: 300;
    color: var(--navy);
    line-height: 1;
    margin-bottom: 6px;
  }

  .stat-card .stat-label {
    font-size: 12px;
    color: var(--text-light);
    font-weight: 500;
    letter-spacing: 0.04em;
    text-transform: uppercase;
  }

  .stat-card .stat-sub {
    font-size: 12px;
    color: var(--sage);
    margin-top: 4px;
  }

  /* Charts / aggregate */
  .agg-section {
    background: var(--white);
    border: 1px solid var(--border);
    padding: 32px;
    margin-bottom: 24px;
    box-shadow: var(--shadow-sm);
  }

  .agg-section h3 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 22px;
    font-weight: 400;
    color: var(--navy);
    margin-bottom: 6px;
  }

  .agg-section .agg-q {
    font-size: 13px;
    color: var(--text-light);
    margin-bottom: 20px;
    font-style: italic;
  }

  .bar-chart { display: flex; flex-direction: column; gap: 10px; }

  .bar-row {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 13px;
  }

  .bar-row-label {
    width: 220px;
    flex-shrink: 0;
    color: var(--text-mid);
    text-align: right;
    line-height: 1.3;
    font-size: 12px;
  }

  .bar-track {
    flex: 1;
    height: 24px;
    background: var(--cream-dark);
    position: relative;
  }

  .bar-fill {
    height: 100%;
    background: var(--navy);
    transition: width 0.6s ease;
  }

  .bar-count {
    width: 60px;
    flex-shrink: 0;
    color: var(--text-light);
    font-family: 'DM Mono', monospace;
    font-size: 12px;
  }

  .avg-score {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: var(--navy);
    color: var(--white);
    padding: 8px 20px;
    font-size: 14px;
    margin-bottom: 16px;
  }

  .avg-score strong {
    font-family: 'Cormorant Garamond', serif;
    font-size: 24px;
    font-weight: 300;
  }

  /* Responses table */
  .responses-toolbar {
    display: flex;
    gap: 16px;
    margin-bottom: 20px;
    align-items: center;
  }

  .search-input {
    border: 1px solid var(--border);
    padding: 10px 14px;
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    background: var(--white);
    outline: none;
    width: 260px;
    transition: border-color 0.2s;
  }

  .search-input:focus { border-color: var(--navy); }

  .responses-table {
    width: 100%;
    border-collapse: collapse;
    background: var(--white);
    box-shadow: var(--shadow-sm);
    font-size: 13px;
  }

  .responses-table th {
    background: var(--navy);
    color: var(--gold);
    text-align: left;
    padding: 12px 16px;
    font-weight: 600;
    font-size: 11px;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    white-space: nowrap;
  }

  .responses-table td {
    padding: 12px 16px;
    border-bottom: 1px solid var(--cream-dark);
    color: var(--text-mid);
    vertical-align: top;
  }

  .responses-table tr:hover td { background: var(--cream); }

  .view-response-btn {
    background: var(--navy);
    color: var(--white);
    border: none;
    padding: 6px 14px;
    font-size: 11px;
    font-family: 'DM Sans', sans-serif;
    cursor: pointer;
    transition: background 0.15s;
  }

  .view-response-btn:hover { background: var(--navy-light); }

  .delete-btn {
    background: none;
    border: 1px solid var(--red-accent);
    color: var(--red-accent);
    padding: 5px 12px;
    font-size: 11px;
    font-family: 'DM Sans', sans-serif;
    cursor: pointer;
    transition: all 0.15s;
    margin-left: 6px;
  }

  .delete-btn:hover { background: var(--red-accent); color: white; }

  /* Settings tab */
  .settings-card {
    background: var(--white);
    border: 1px solid var(--border);
    padding: 36px;
    max-width: 500px;
    box-shadow: var(--shadow-sm);
    margin-bottom: 24px;
  }

  .settings-card h3 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 22px;
    font-weight: 400;
    color: var(--navy);
    margin-bottom: 4px;
  }

  .settings-card p {
    font-size: 13px;
    color: var(--text-light);
    margin-bottom: 24px;
  }

  .success-toast {
    display: none;
    background: var(--sage);
    color: var(--white);
    padding: 12px 20px;
    font-size: 13px;
    margin-top: 12px;
  }

  /* Response detail modal */
  .response-detail {
    max-width: 700px;
    max-height: 80vh;
    overflow-y: auto;
    width: 95vw;
  }

  .response-detail h3 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 26px;
    color: var(--navy);
    margin-bottom: 4px;
  }

  .response-detail .response-meta {
    font-size: 12px;
    color: var(--text-light);
    font-family: 'DM Mono', monospace;
    margin-bottom: 24px;
    padding-bottom: 16px;
    border-bottom: 1px solid var(--border);
  }

  .response-item {
    margin-bottom: 20px;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--cream-dark);
  }

  .response-item:last-child { border-bottom: none; }

  .response-item .r-q {
    font-size: 13px;
    font-weight: 600;
    color: var(--navy);
    margin-bottom: 6px;
    line-height: 1.4;
  }

  .response-item .r-a {
    font-size: 13px;
    color: var(--text-mid);
    line-height: 1.6;
    background: var(--cream);
    padding: 10px 14px;
    border-left: 3px solid var(--border);
  }

  .empty-state {
    text-align: center;
    padding: 60px 40px;
    color: var(--text-light);
  }

  .empty-state svg {
    width: 48px; height: 48px;
    margin: 0 auto 16px;
    display: block;
    opacity: 0.3;
  }

  .empty-state h3 {
    font-family: 'Cormorant Garamond', serif;
    font-size: 24px;
    color: var(--text-mid);
    margin-bottom: 8px;
  }

  /* Animations */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .animate-in {
    animation: fadeUp 0.4s ease forwards;
  }

  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .loading { display: inline-block; animation: spin 1s linear infinite; }

  /* Responsive */
  @media (max-width: 768px) {
    .info-grid { grid-template-columns: 1fr; }
    .home-hero { padding: 48px 24px 64px; }
    .home-body { padding: 40px 24px; }
    .stats-grid { grid-template-columns: 1fr 1fr; }
    .admin-sidebar { width: 220px; }
    .admin-main { margin-left: 220px; padding: 24px; }
  }
</style>
</head>
<body>

<!-- ═══════════════════════════════════════════════════════ HOME VIEW -->
<div id="home" class="view active">
  <div class="home-hero">
    <div class="dna-pattern"></div>
    <div class="hero-eyebrow">Academic Research Survey · 2025–2026</div>
    <h1 class="hero-title">Survey for Biology Professors at <em>Major Academic Institutions</em></h1>
    <p class="hero-subtitle">Student Preparedness, Critical Thinking &amp; Pedagogical Practices in College Biology</p>
    <button class="hero-cta" onclick="startSurvey()">
      <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/></svg>
      Begin Survey
    </button>
  </div>

  <div class="home-body">
    <div class="info-grid">
      <div class="info-card">
        <h3>Purpose</h3>
        <p>This survey gathers evidence from college biology faculty on the trends they observe in incoming students — particularly those who have completed AP Biology — to better understand gaps in college preparedness.</p>
      </div>
      <div class="info-card">
        <h3>Who Should Respond</h3>
        <p>This survey is intended for biology professors and instructors who teach introductory-level college biology courses and regularly interact with incoming freshmen or sophomore students.</p>
      </div>
      <div class="info-card">
        <h3>Time Commitment</h3>
        <p>The survey contains 9 sections and approximately 55 questions. Most responses are multiple-choice or rating scales. Estimated completion time is <strong>20–25 minutes</strong>.</p>
      </div>
      <div class="info-card">
        <h3>Confidentiality</h3>
        <p>All responses are anonymous and will be reported only in aggregate. No personally identifiable information is collected. Your participation is entirely voluntary.</p>
      </div>
    </div>

    <div class="about-section">
      <h2>About This Survey</h2>
      <p>The transition from high school to college-level biology represents one of the most academically significant steps in a student's scientific education. This survey seeks to understand — from the perspective of those who receive these students — what is working, what is not, and how individual high school biology teachers can better align their instruction with the demands of college coursework.</p>
      <p>Topics covered include foundational content knowledge, critical thinking and scientific reasoning, laboratory skills, study habits, academic resilience, and the increasingly important role of technology and artificial intelligence tools in student learning.</p>
      <p>This survey was designed and is administered by:</p>
      <div class="contact-chip">
        <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
        Dustin Houghton, PhD · AP Biology Teacher · <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="93f7fbfce6f4fbe7fcd3f0f0e0bdf8a2a1bdfafdbde6e0">[email&#160;protected]</a>
      </div>
    </div>

    <div class="sections-list">
      <h2>Survey Sections</h2>
      <div class="section-item">
        <div class="section-number">01</div>
        <div>
          <h4>Respondent Background</h4>
          <p>Institution type, years of experience, primary teaching area, AP Biology student exposure</p>
        </div>
      </div>
      <div class="section-item">
        <div class="section-number">02</div>
        <div>
          <h4>Overall Academic Preparedness</h4>
          <p>General preparedness ratings and observed trends over the past five years</p>
        </div>
      </div>
      <div class="section-item">
        <div class="section-number">03</div>
        <div>
          <h4>Foundational Biology Knowledge</h4>
          <p>Cell biology, genetics, biochemistry, evolution, ecology, and vocabulary</p>
        </div>
      </div>
      <div class="section-item">
        <div class="section-number">04</div>
        <div>
          <h4>Critical Thinking &amp; Scientific Reasoning</h4>
          <p>Experimental design, data interpretation, evidence evaluation, novel application</p>
        </div>
      </div>
      <div class="section-item">
        <div class="section-number">05</div>
        <div>
          <h4>Laboratory Skills</h4>
          <p>Equipment use, protocols, data recording, safety, and virtual lab technology</p>
        </div>
      </div>
      <div class="section-item">
        <div class="section-number">06</div>
        <div>
          <h4>Academic &amp; Study Skills</h4>
          <p>Scientific literacy, writing, time management, persistence, and AI tool use policies</p>
        </div>
      </div>
      <div class="section-item">
        <div class="section-number">07</div>
        <div>
          <h4>Recommendations for AP Biology Teachers</h4>
          <p>What teachers can do more of, less of, and how to integrate AI responsibly</p>
        </div>
      </div>
      <div class="section-item">
        <div class="section-number">08</div>
        <div>
          <h4>College Classroom Policies</h4>
          <p>Grading structure, reassessment policies, late work, and AI detection practices</p>
        </div>
      </div>
      <div class="section-item">
        <div class="section-number">09</div>
        <div>
          <h4>Final Reflections</h4>
          <p>Overall preparedness score, messages to AP teachers, AI's future role in biology education</p>
        </div>
      </div>
    </div>

    <div class="start-survey-block">
      <h2>Ready to contribute?</h2>
      <p>Your insights directly inform how AP Biology teachers prepare the next generation of scientists.</p>
      <button class="hero-cta" onclick="startSurvey()">
        <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/></svg>
        Begin the Survey
      </button>
    </div>
  </div>

  <!-- Admin login button -->
  <button class="admin-login-btn" onclick="openAdminModal()">
    <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
    Administrator Login
  </button>
</div>

<!-- ═══════════════════════════════════════════════════════ SURVEY VIEW -->
<div id="survey" class="view">
  <div class="survey-header">
    <div class="survey-header-left">
      <h2>Biology Professor Survey</h2>
      <p id="current-section-label">Section 1 of 9</p>
    </div>
    <div class="progress-wrap">
      <div class="progress-label" id="progress-label">Section 1 of 9</div>
      <div class="progress-bar"><div class="progress-fill" id="progress-fill" style="width:11%"></div></div>
    </div>
  </div>

  <div class="survey-body" id="survey-body">
    <!-- Injected by JS -->
  </div>
</div>

<!-- ═══════════════════════════════════════════════════════ ADMIN VIEW -->
<div id="admin" class="view">
  <div class="admin-sidebar">
    <div class="admin-logo">
      <h1>Survey Administrator</h1>
      <p>Biology Preparedness Study</p>
    </div>
    <nav class="admin-nav">
      <div class="admin-nav-item active" onclick="showAdminTab('dashboard')">
        <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
        Dashboard
      </div>
      <div class="admin-nav-item" onclick="showAdminTab('responses')">
        <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
        Individual Responses
      </div>
      <div class="admin-nav-item" onclick="showAdminTab('settings')">
        <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><circle cx="12" cy="12" r="3"/></svg>
        Settings
      </div>
    </nav>
    <div class="admin-logout">
      <button onclick="adminLogout()">
        <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/></svg>
        Log Out
      </button>
    </div>
  </div>

  <div class="admin-main">
    <!-- DASHBOARD TAB -->
    <div id="tab-dashboard" class="admin-tab active">
      <h1 class="admin-page-title">Survey Dashboard</h1>
      <p class="admin-page-sub">Aggregate results across all submitted responses.</p>

      <div class="stats-grid" id="stats-grid">
        <div class="stat-card">
          <div class="stat-val" id="stat-total">—</div>
          <div class="stat-label">Total Responses</div>
        </div>
        <div class="stat-card">
          <div class="stat-val" id="stat-avg-prep">—</div>
          <div class="stat-label">Avg. Preparedness Score</div>
          <div class="stat-sub">Out of 10</div>
        </div>
        <div class="stat-card">
          <div class="stat-val" id="stat-trend">—</div>
          <div class="stat-label">Most Common Trend</div>
          <div class="stat-sub">Preparedness direction</div>
        </div>
        <div class="stat-card">
          <div class="stat-val" id="stat-ai-detect">—</div>
          <div class="stat-label">Report Detecting AI</div>
          <div class="stat-sub">In student submissions</div>
        </div>
      </div>

      <div id="aggregate-charts">
        <!-- Populated by JS -->
        <div class="empty-state">
          <svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>
          <h3>No responses yet</h3>
          <p>Aggregate charts will appear here once responses are submitted.</p>
        </div>
      </div>
    </div>

    <!-- RESPONSES TAB -->
    <div id="tab-responses" class="admin-tab">
      <h1 class="admin-page-title">Individual Responses</h1>
      <p class="admin-page-sub">Browse and review each submission in detail.</p>

      <div class="responses-toolbar">
        <input type="text" class="search-input" id="response-search" placeholder="Search by institution type, date…" oninput="filterResponses()">
        <span id="response-count-label" style="font-size:13px;color:var(--text-light);"></span>
      </div>

      <div id="responses-table-wrap"></div>
    </div>

    <!-- SETTINGS TAB -->
    <div id="tab-settings" class="admin-tab">
      <h1 class="admin-page-title">Settings</h1>
      <p class="admin-page-sub">Manage your administrator account preferences.</p>

      <div class="settings-card">
        <h3>Change Administrator Password</h3>
        <p>Update the password used to access this administrator portal.</p>
        <div class="form-group">
          <label>Current Password</label>
          <input type="password" id="settings-current-pw" placeholder="Enter current password">
        </div>
        <div class="form-group">
          <label>New Password</label>
          <input type="password" id="settings-new-pw" placeholder="Enter new password">
        </div>
        <div class="form-group">
          <label>Confirm New Password</label>
          <input type="password" id="settings-confirm-pw" placeholder="Confirm new password">
        </div>
        <div class="error-msg" id="settings-error"></div>
        <button class="btn-primary" onclick="changePassword()" style="margin-top:8px;">Update Password</button>
        <div class="success-toast" id="settings-success">✓ Password updated successfully.</div>
      </div>

      <div class="settings-card">
        <h3>Export Data</h3>
        <p>Download all survey responses as a JSON file for backup or external analysis.</p>
        <button class="btn-secondary" onclick="exportData()">Download JSON Export</button>
      </div>

      <div class="settings-card" style="border-top: 3px solid var(--red-accent);">
        <h3 style="color:var(--red-accent);">Danger Zone</h3>
        <p>Permanently delete all survey responses. This action cannot be undone.</p>
        <button class="btn-secondary" style="border-color:var(--red-accent);color:var(--red-accent);" onclick="confirmDeleteAll()">Delete All Responses</button>
      </div>
    </div>
  </div>
</div>

<!-- ═══════════════════════════════════════════════════════ MODALS -->
<!-- Admin Login Modal -->
<div class="modal-overlay" id="admin-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeAdminModal()">✕</button>
    <h3>Administrator Login</h3>
    <p>Enter your password to access the survey administration portal.</p>
    <div class="form-group">
      <label>Password</label>
      <input type="password" id="admin-pw-input" placeholder="Enter password" onkeydown="if(event.key==='Enter')checkAdminLogin()">
    </div>
    <div class="error-msg" id="login-error">Incorrect password. Please try again.</div>
    <button class="btn-primary" onclick="checkAdminLogin()">Log In</button>
  </div>
</div>

<!-- Response Detail Modal -->
<div class="modal-overlay" id="response-modal">
  <div class="modal response-detail">
    <button class="modal-close" onclick="closeResponseModal()">✕</button>
    <div id="response-detail-content"></div>
  </div>
</div>

<script src="/app.js"></script>
</body>
</html>